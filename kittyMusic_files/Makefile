# Makefile for project "kittyMusic"
# Automatically generated by idltool
# 
# $Id: genskeleton.cpp,v 1.13 2010-03-17 14:37:07 cmincea Exp $
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)gcc 
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3

OPS    = -Ddebug_yes
OPS += -Dstrict_rules_no

CFLAGS   = -Wall $(OPTIMIZE) $(DEBUG)

INC = -I/SDK/include/AmosKittens -I../ -I./

# Flags passed to gcc during linking
LINK = 

# Name of the "thing" to build
TARGET = kittyMusic.library

# Additional linker libraries
LIBS = 

# Version of the library to build
VERSION = 53

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c main/makeLookupTable.c \
	main/FreeLookupTable.c \
	main/makeContext.c \
	main/FreeContext.c \
	AmosString.c \
	stack.c \
	cmdList.c \
	waves.c \
	wave.c \
	helper.c \
	ext_music.c 


# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles $(OPTS) -o $(TARGET) $(OBJS) $(LIBS)

%.o:		%.c 
	gcc  -Wall -O3  $(INC) -c  $(OPTS) -D__USE_INLINE__ -D__no_stdlib__ $(@:.o=.c) -o $@

init.o:		init.c 
	gcc  -Wall -O3  $(INC) -c $(OPTS) $(@:.o=.c) -o $@

main/makeContext.o:	debug.h	context.h	main/makeContext.c 
	gcc  -Wall -O3  $(INC) -c  $(@:.o=.c) -o $@

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

